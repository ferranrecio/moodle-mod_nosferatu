define("mod_nosferatu/local/simplified/addperson",["exports","core/reactive"],(function(_exports,_reactive){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;
/**
   * Add person component.
   *
   * This is an example of an static component. It does not allow injection
   * and only watches for the person limit to disable the form.
   *
   * @module     mod_nosferatu/local/simplified/addperson
   * @copyright  2024 Ferran Recio <ferran@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
class _default extends _reactive.TemplateComponent{create(){this.name="nosferatu-app-addperson"}getWatchers(){return[{watch:"people:created",handler:this.refreshTemplate},{watch:"people:deleted",handler:this.refreshTemplate}]}getTemplateName(){return"mod_nosferatu/local/simplified/addperson"}getTemplateData(){return{limitreached:this.reactive.getAll("people").size>10}}stateReady(){this.addEventListener(this.element,"submit",(event=>(event.preventDefault(),this.addPerson(),!1))),this.addEventListener(this.element,"keyup",(()=>{this.handleInputChange()})),this.handleInputChange()}addPerson(){if(this.isInputEmpty())return;const nameField=this.getReference("name");this.reactive.dispatch("putPerson",{name:nameField.value}),nameField.value="",this.handleInputChange()}handleInputChange(){this.getReference("button").disabled=this.isInputEmpty()}isInputEmpty(){return""===this.getReference("name").value.trim()}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=addperson.min.js.map