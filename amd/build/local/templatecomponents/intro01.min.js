define("mod_nosferatu/local/templatecomponents/intro01",["exports","core/reactive","mod_nosferatu/events"],(function(_exports,_reactive,_events){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * This file is just an example to illustrate how to create a reactive app in Moodle.
   * For didactic purposes, all the logic of this app is in the same file. However, in a real
   * scenario, you should split the logic in different files and import them here. We will see
   * how to do this after the introduction samples.
   *
   * @module     mod_nosferatu/local/templatecomponents/intro01
   * @copyright  2024 Ferran Recio <ferran@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const onInit=[];_exports.init=function(){onInit.forEach((method=>method()))};class MyReactive extends _reactive.Reactive{}const myReactiveInstance=new MyReactive({name:"mod_nosferatu_example",eventName:_events.eventTypes.modNosferatuStateUpdated,eventDispatch:_events.notifyModNosferatuStateUpdated,state:{info:{counter:0}}});class FirstComponent extends _reactive.BaseComponent{create(){this.name="mod_nosferatu_FirstComponent"}getWatchers(){return[{watch:"state:updated",handler:this._refreshCounter}]}_refreshCounter(_ref){let{state:state}=_ref;this.getReference("count").innerHTML=state.info.counter}}onInit.push((()=>{new FirstComponent({selector:'#exampleApp [data-mdl-region="exampleComponent1"]',reactive:myReactiveInstance})}));myReactiveInstance.setMutations(new class{increment(stateManager,amount){const state=stateManager.state;stateManager.setReadOnly(!1),state.info.counter+=amount,stateManager.setReadOnly(!0)}});class SecondComponent extends _reactive.BaseComponent{create(){this.name="mod_nosferatu_SecondComponent"}stateReady(){this.addEventListener(this.element,"click",this._handleClick)}_handleClick(event){const clickedElement=event.target.closest('[data-mdl-nosferatu-action="increment"]');clickedElement&&(event.preventDefault(),this.reactive.dispatch("increment",Number.parseInt(clickedElement.dataset.mdlNosferatuAmount)))}}onInit.push((()=>{new SecondComponent({selector:'#exampleApp [data-mdl-region="exampleComponent2"]',reactive:myReactiveInstance})}))}));

//# sourceMappingURL=intro01.min.js.map